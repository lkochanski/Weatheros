(this.webpackJsonpweatheros=this.webpackJsonpweatheros||[]).push([[0],{14:function(e,a,t){},22:function(e,a,t){e.exports=t(71)},27:function(e,a,t){},28:function(e,a,t){},29:function(e,a,t){},35:function(e,a,t){},36:function(e,a,t){},41:function(e,a,t){},69:function(e,a,t){},70:function(e,a,t){},71:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(18),l=t.n(i),s=(t(27),t(4)),c=t(5),o=t(7),m=t(6),d=(t(28),t(29),t(3)),u=t(8),p=function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit,className:"form-wrapper"},r.a.createElement("input",{type:"text",placeholder:"Znajd\u017a miasto",onChange:e.handleChange,value:e.value,className:null!=e.error?"input-error":null}),r.a.createElement("button",{type:"submit"},r.a.createElement(d.a,{icon:u.c})))},h=(t(35),t(9),function(e){return r.a.createElement("div",null,r.a.createElement("span",{className:"error-message"},e.message))}),E=function(e){return r.a.createElement("div",{className:"topbar"},r.a.createElement("div",{className:"topbar-wrapper"},r.a.createElement("span",null,r.a.createElement("i",{className:"wi wi-day-fog"}),r.a.createElement("strong",null,"Weatheros")),r.a.createElement("div",{className:"input-wrapper"},r.a.createElement(p,{handleChange:e.handleChange,handleSubmit:e.handleSubmit,error:e.error,value:e.value}),null!=e.error?r.a.createElement(h,{message:"Nic nie znaleziono. Sprawd\u017a czy nazwa miasta jest poprawna."}):null,e.empty?r.a.createElement(h,{message:"Prosz\u0119 wpisa\u0107 nazw\u0119 miasta, kt\xf3rego szukasz."}):null)))},w=(t(36),t(10)),y=t.n(w),f=function(){return r.a.createElement(y.a,{css:"display: block; margin: 0 auto; border-color: red;",size:30,color:"#DA0033",loading:!0})},g=function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).state={date:null,weekDay:null,day:null,month:null,year:null,timerID:null},n.days=["Niedziela","Poniedzia\u0142ek","Wtorek","\u015aroda","Czwartek,","Pi\u0105tek","Sobota"],n.months=["Stycznia","Lutego","Marca","Kwietnia","Maja","Czerwca","Lipca","Sierpnia","Wrze\u015bnia","Pa\u017adziernika","Listopada","Grudnia"],n}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.timerID=setInterval((function(){return e.TimeByTimezone()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.timerID)}},{key:"TimeByTimezone",value:function(){var e=new Date,a=e.getTimezoneOffset(),t=this.props.time/60;e.setMinutes(e.getMinutes()+a),e.setMinutes(e.getMinutes()+t),this.setState({date:e,weekDay:e.getDay(),day:e.getDate(),month:e.getMonth(),year:e.getFullYear()})}},{key:"render",value:function(){var e=this.state,a=e.date,t=e.day,n=e.weekDay,i=e.month,l=e.year;return r.a.createElement(r.a.Fragment,null,null!=this.state.date?r.a.createElement("div",{className:"city-time"},r.a.createElement("span",{id:"city-hour"},a.toLocaleTimeString()),r.a.createElement("span",{id:"city-date"},"".concat(this.days[n]," ").concat(t," ").concat(this.months[i]," ").concat(l))):r.a.createElement(f,null))}}]),t}(n.Component),v=function(e){return r.a.createElement("div",{className:"current-weather-icon"},r.a.createElement("i",{className:"wi ".concat({"01d":"wi-day-sunny","02d":"wi-day-cloudy","03d":"wi-cloud","04d":"wi-cloudy","09d":"wi-rain-mix","10d":"wi-day-sleet","11d":"wi-storm-showers","13d":"wi-snow","50d":"wi-fog","01n":"wi-night-clear","02n":"wi-night-alt-cloudy","03n":"wi-cloud","04n":"wi-cloudy","09n":"wi-rain-mix","10n":"wi-night-alt-showers","11n":"wi-storm-showers","13n":"wi-night-alt-snow","50n":"wi-fog"}[e.iconType])}))},N=function(e){var a=Math.round(e.data.main.temp),t=Math.round(e.data.main.feels_like),n=Math.round(e.data.main.temp_max),i=Math.round(e.data.main.temp_min);return r.a.createElement("section",{className:"current-weather"},r.a.createElement("div",{className:"city-details"},r.a.createElement("div",{className:"city-name"},r.a.createElement("span",null,e.data.name),r.a.createElement("span",{id:"city-country"},e.data.sys.country)),r.a.createElement(g,{time:e.data.timezone})),r.a.createElement("div",{className:"current-weather-wrapper"},r.a.createElement(v,{alt:e.data.weather[0].description,iconType:e.data.weather[0].icon}),r.a.createElement("div",{className:"current-weather-temperature"},r.a.createElement("div",{className:"weather-description-wrapper"},r.a.createElement("span",{className:"weather-description"},e.data.weather[0].description)),r.a.createElement("div",{className:"current-temperature"},r.a.createElement("span",{id:"current-temp"},a,"\xb0C"),r.a.createElement("span",{id:"feels-like-temp"},"Odczuwalna: ",t,"\xb0C"),r.a.createElement("div",{className:"minmax-temperature"},r.a.createElement("span",null,r.a.createElement("i",{className:"wi wi-thermometer-exterior"}),"Min: ",i,"\xb0C"),r.a.createElement("span",null,r.a.createElement("i",{className:"wi wi-thermometer"}),"Max: ",n,"\xb0C"))))),r.a.createElement("div",{className:"weather-details"},r.a.createElement("div",{className:"details-panel"},r.a.createElement("i",{className:"wi wi-cloudy"}),r.a.createElement("span",{className:"details-desc"},"Zachmurzenie"),r.a.createElement("span",null,e.data.clouds.all,"%")),r.a.createElement("div",{className:"details-panel"},r.a.createElement("i",{className:"wi wi-strong-wind"}),r.a.createElement("span",{className:"details-desc"},"Pr\u0119dko\u015b\u0107 wiatru"),r.a.createElement("span",null,e.data.wind.speed," m/s")),r.a.createElement("div",{className:"details-panel"},r.a.createElement("i",{className:"wi wi-raindrops"}),r.a.createElement("span",{className:"details-desc"},"Wilgotno\u015b\u0107"),r.a.createElement("span",null,e.data.main.humidity,"%")),r.a.createElement("div",{className:"details-panel"},r.a.createElement("i",{className:"wi wi-barometer"}),r.a.createElement("span",{className:"details-desc"},"Ci\u015bnienie"),r.a.createElement("span",null,e.data.main.pressure," HpA"))))},b=(t(41),t(20)),k=function(e){return null!=e.error?r.a.createElement("div",{className:"error-message-big"},r.a.createElement(d.a,{icon:b.faSadTear,className:"error-icon"}),r.a.createElement("span",null,"Co\u015b posz\u0142o nie tak. Spr\xf3buj jeszcze raz.")):e.loading?r.a.createElement("div",{className:"loading-spinner"},r.a.createElement(y.a,{css:"display: block; margin: 0 auto; border-color: red;",size:100,color:"#DA0033",loading:e.loading})):null},C=(t(14),t(21)),S=t.n(C),z=(t(68),function(e){var a=e.data.dt,t=new Date(1e3*a),n=t.getMonth()+1,i=t.getDate(),l=t.getHours(),s=t.getFullYear(),c=Math.round(e.data.temp);return r.a.createElement("div",{className:"spinner-item noselect"},r.a.createElement("div",{className:"spinner-item-hour"},r.a.createElement("span",{id:"date"},i,"/",n,"/",s),r.a.createElement("span",{id:"hour"},l,":00")),r.a.createElement("div",{className:"spinner-item-icon"},r.a.createElement(v,{iconType:e.data.weather[0].icon})),r.a.createElement("div",{className:"spinner-item-temp"},r.a.createElement("span",null,c,"\xb0C")))}),I=function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).sliderPrevPage=function(){var e=n.state.currentIndex-n.state.itemsInSlide;e<=0?n.setState({currentIndex:0,disabledLeft:!0}):n.setState({currentIndex:e,disabledRight:!1})},n.sliderNextPage=function(){var e=n.state,a=e.itemsInSlide,t=e.spinnerItems.length,r=n.state.currentIndex+a;r>=t-a?n.setState({currentIndex:t-a,disabledRight:!0,disabledLeft:!1}):n.setState({currentIndex:r,disabledRight:!1,disabledLeft:!1})},n.handleOnSlideChange=function(e){var a=e.itemsInSlide,t=e.item;n.setState({itemsInSlide:a,currentIndex:t})},n.state={currentIndex:0,itemsInSlide:8,responsive:{0:{items:3},574:{items:5},766:{items:6},990:{items:8},1198:{items:8}},spinnerItems:n.spinnerItems(),disabledRight:!1,disabledLeft:!0},n}return Object(c.a)(t,[{key:"spinnerItems",value:function(){return this.props.hourlyForecast.map((function(e,a){return r.a.createElement(z,{key:a+1,data:e})}))}},{key:"render",value:function(){var e=this.state,a=e.currentIndex,t=e.spinnerItems,n=e.responsive;return r.a.createElement("div",{className:"hourly-spinner"},this.state.disabledLeft?r.a.createElement("button",{onClick:this.sliderPrevPage,disabled:!0},r.a.createElement(d.a,{icon:u.a})):r.a.createElement("button",{onClick:this.sliderPrevPage},r.a.createElement(d.a,{icon:u.a})),r.a.createElement(S.a,{items:t,slideToIndex:a,responsive:n,onInitialized:this.handleOnSlideChange,onSlideChanged:this.handleOnSlideChange,onResized:this.handleOnSlideChange,dotsDisabled:!0,buttonsDisabled:!0,touchTrackingEnabled:!0,mouseTrackingEnabled:!0,mouseDragEnabled:!0,fadeOutAnimation:!0}),this.state.disabledRight?r.a.createElement("button",{onClick:this.sliderNextPage,disabled:!0},r.a.createElement(d.a,{icon:u.b})):r.a.createElement("button",{onClick:this.sliderNextPage},r.a.createElement(d.a,{icon:u.b})))}}]),t}(n.Component),D=function(e){return void 0===e.hourlyForecast?r.a.createElement(f,null):r.a.createElement("div",{className:"hourly-forecast-wrapper"},r.a.createElement("div",{className:"panel-title"},r.a.createElement("h3",null,"Prognoza na 48 godzin")),r.a.createElement(I,{hourlyForecast:e.hourlyForecast}))},F=(t(69),function(e){var a="wi wi-wind towards-".concat(e.direction,"-deg");console.log(e.direction);return r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:a}),r.a.createElement("span",null,"Kierunek wiatru: "),function(e){var a="";return e<23&&(a="p\xf3\u0142noc"),e>=24&&(a="p\u0142n. wsch\xf3d"),e>=69&&(a="wsch\xf3d"),e>=114&&(a="po\u0142. wsch\xf3d"),e>=159&&(a="po\u0142udnie"),e>=204&&(a="po\u0142. zach\xf3d"),e>=248&&(a="zach\xf3d"),e>=294&&(a="p\u0142n. zach\xf3d"),e>=336&&e<=659&&(a="p\xf3\u0142noc"),a}(e.direction))}),M=function(e){var a=e.data.dt,t=new Date(1e3*a),n=e.data.sunrise,i=e.data.sunset,l=new Date(1e3*n),s=new Date(1e3*i),c=l.getHours(),o=l.getMinutes(),m=s.getHours(),d=s.getMinutes(),u=t.getDay(),p=t.getDate(),h=t.getMonth(),E=t.getFullYear(),w=function(e){return Math.round(e)};return r.a.createElement("section",{className:"weekly-forecast-item"},r.a.createElement("div",{className:"date"},r.a.createElement("span",null,["Niedziela","Poniedzia\u0142ek","Wtorek","\u015aroda","Czwartek","Pi\u0105tek","Sobota"][u],", ",p," ",["Stycznia","Lutego","Marca","Kwietnia","Maja","Czerwca","Lipca","Sierpnia","Wrze\u015bnia","Pa\u017adziernika","Listopada","Grudnia"][h]," ",E," r."),r.a.createElement("div",{className:"sunrise-sunset"},r.a.createElement("span",{id:"sunrise"},r.a.createElement("i",{className:"wi wi-sunrise"}),c>9?c:"0"+c,":",o>9?o:"0"+o),r.a.createElement("span",{id:"sunset"},r.a.createElement("i",{className:"wi wi-sunset"}),m>9?m:"0"+m,":",d>9?d:"0"+d))),r.a.createElement("div",{className:"weekly-forecast-weather"},r.a.createElement("div",{className:"weekly-wrapper"},r.a.createElement("div",{className:"weekly-forecast-icon"},r.a.createElement(v,{iconType:e.data.weather[0].icon}),r.a.createElement("span",{id:"desc"},e.data.weather[0].description)),r.a.createElement("div",{className:"weekly-forecast-temperature"},r.a.createElement("span",{id:"main-temp"},w(e.data.temp.day),"\xb0C"),r.a.createElement("span",{id:"feels-like"},"odczuwalna: ",w(e.data.feels_like.day),"\xb0C")),r.a.createElement("div",{className:"weekly-forecast-minmax"},r.a.createElement("span",null,r.a.createElement("i",{className:"wi wi-thermometer-exterior"}),r.a.createElement("span",null,"Min:")," ",w(e.data.temp.min),"\xb0C"),r.a.createElement("span",null,r.a.createElement("i",{className:"wi wi-thermometer"}),r.a.createElement("span",null,"Max:")," ",w(e.data.temp.max),"\xb0C"),r.a.createElement("span",null,r.a.createElement("i",{className:"wi wi-night-clear"}),r.a.createElement("span",null,"Noc:")," ",w(e.data.temp.night),"\xb0C"))),r.a.createElement("div",{className:"weekly-forecast-details"},r.a.createElement("div",{className:"details-column"},r.a.createElement("div",{className:"details-row"},r.a.createElement("i",{className:"wi wi-cloud"}),r.a.createElement("span",{className:"hide"},"Zachmurzenie: "),e.data.clouds," %"),r.a.createElement("div",{className:"details-row"},r.a.createElement("i",{className:"wi wi-sprinkle"}),r.a.createElement("span",null,"Opady: "),e.data.rain?e.data.rain:"0.00"," mm")),r.a.createElement("div",{className:"details-column"},r.a.createElement("div",{className:"details-row"},r.a.createElement("i",{className:"wi wi-strong-wind"}),r.a.createElement("span",null,"Wiatr: "),e.data.wind_speed," m/s"),r.a.createElement("div",{className:"details-row"},r.a.createElement(F,{direction:e.data.wind_deg}))),r.a.createElement("div",{className:"details-column"},r.a.createElement("div",{className:"details-row"},r.a.createElement("i",{className:"wi wi-humidity"}),r.a.createElement("span",null,"Wilgotno\u015b\u0107: "),e.data.humidity," %"),r.a.createElement("div",{className:"details-row"},r.a.createElement("i",{className:"wi wi-barometer"}),r.a.createElement("span",null,"Ci\u015bnienie: "),e.data.pressure," HpA")))))},j=(t(70),function(e){if(void 0===e.weeklyForecast)return r.a.createElement("div",{className:"weekly-forecast"},r.a.createElement(f,null));var a=e.weeklyForecast.map((function(e){return r.a.createElement(M,{key:e.dt,data:e})}));return r.a.createElement("div",{className:"weekly-forecast"},r.a.createElement("h3",null,"Prognoza na kolejne 7 dni"),a)}),x=function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(){return Object(s.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"render",value:function(){return null==this.props.data.base||!1!==this.props.loading||this.props.error?r.a.createElement("div",null,r.a.createElement(k,{error:this.props.error,loading:this.props.loading})):r.a.createElement("div",{className:"weather-container"},r.a.createElement(N,{data:this.props.data}),r.a.createElement(D,{hourlyForecast:this.props.fullForecast.hourly}),r.a.createElement(j,{weeklyForecast:this.props.fullForecast.daily}))}}]),t}(n.Component),O=function(e){return r.a.createElement("div",{className:"main-content-container"},r.a.createElement(E,{handleChange:e.handleChange,handleSubmit:e.handleSubmit,error:e.error,value:e.value,empty:e.empty}),r.a.createElement(x,{data:e.data,error:e.error,loading:e.loading,fullForecast:e.fullForecast}))},P=function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=a.call.apply(a,[this].concat(r))).state={update:!0,loading:!0,error:null,fullForecastError:null,emptyInput:!1,searchedCity:"",startCity:"Katowice",units:"metric",cityLat:null,cityLon:null,currentCityData:{},fullForecast:{}},e.API={key:"78165b968fac88b2722ee7ab1fe4c9f3",base:"http://api.openweathermap.org/data/2.5"},e.queryBySearchedCity=function(a){var t="".concat(e.API.base,"/weather?q=").concat(a,"&units=").concat(e.state.units,"&appid=").concat(e.API.key,"&lang=pl");fetch(t).then((function(e){if(e.ok)return e;throw new Error(e.status)})).then((function(e){return e.json()})).then((function(a){setTimeout((function(){e.setState({currentCityData:a,loading:!1,error:null,searchedCity:"",cityLat:a.coord.lat,cityLon:a.coord.lon,update:!0})}),500)})).catch((function(a){e.setState({error:a,loading:!1})}))},e.queryFullForecast=function(){var a="".concat(e.API.base,"/onecall?lat=").concat(e.state.cityLat,"&lon=").concat(e.state.cityLon,"&units=").concat(e.state.units,"&appid=").concat(e.API.key,"&lang=pl");fetch(a).then((function(e){if(e.ok)return e;throw new Error(e.status)})).then((function(e){return e.json()})).then((function(a){e.setState({fullForecast:a})})).catch((function(a){e.setState({fullForecastError:a})}))},e.handleChange=function(a){e.setState({searchedCity:a.target.value})},e.handleSubmit=function(a){a.preventDefault(),e.state.searchedCity.length>0?(e.queryBySearchedCity(e.state.searchedCity),e.setState({emptyInput:!1,loading:!0})):e.state.searchedCity.length<=0&&e.setState({emptyInput:!0})},e}return Object(c.a)(t,[{key:"componentDidMount",value:function(){this.queryBySearchedCity(this.state.startCity),this.setState({loading:!1})}},{key:"componentDidUpdate",value:function(){this.state.update&&this.state.cityLon&&this.state.cityLat&&(this.queryFullForecast(),this.setState({update:!1}))}},{key:"render",value:function(){return null!=this.state.error&&console.log(this.state.error),r.a.createElement("div",{className:"App"},r.a.createElement(O,{data:this.state.currentCityData,fullForecast:this.state.fullForecast,handleChange:this.handleChange,handleSubmit:this.handleSubmit,loading:this.state.loading,error:this.state.error,value:this.state.searchedCity,empty:this.state.emptyInput}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,a,t){}},[[22,1,2]]]);
//# sourceMappingURL=main.a9ff8db1.chunk.js.map